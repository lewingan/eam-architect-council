entities:
  work_order:
    description: A formal maintenance task instruction
    sap_api:
      odata_service: API_MAINTORDER_SRV
      odata_entity_set: MaintenanceOrder
      api_hub_url: https://api.sap.com/api/API_MAINTORDER/overview
    sap_internals:
      legacy_table: AUFK
      transactions: [IW31, IW32, IW33]
    fields:
      - name: order_id
        type: string
        primary_key: true
        example: "WO-001234"
      - name: order_type
        type: string
        description: "PM01=Corrective, PM02=Preventive, PM03=Predictive"
        example: "PM02"
      - name: priority
        type: integer
        description: "1=Emergency, 2=Urgent, 3=Normal, 4=Low"
        example: 2
      - name: status
        type: string
        enum: [CRTD, REL, TECO, CLSD]
        example: "REL"
      - name: equipment_id
        type: string
        foreign_key: equipment.equipment_id
      - name: func_loc_id
        type: string
        foreign_key: functional_location.func_loc_id
      - name: planned_start
        type: datetime
      - name: planned_end
        type: datetime
      - name: work_center_id
        type: string
        foreign_key: work_center.work_center_id

  functional_location:
    description: A point in the technical plant hierarchy
    sap_api:
      odata_service: API_FUNCLOCATION_SRV
      odata_entity_set: FunctionalLocation
      api_hub_url: https://api.sap.com/api/API_FUNCLOCATION/overview
    sap_internals:
      legacy_table: IFLO
      transactions: [IL01, IL02, IL03]
    fields:
      - name: func_loc_id
        type: string
        primary_key: true
        example: "PLT1-AREA2-LINE3"
      - name: description
        type: string
      - name: plant
        type: string
      - name: area
        type: string
      - name: parent_func_loc_id
        type: string
        foreign_key: functional_location.func_loc_id
        nullable: true

  equipment:
    description: An individual physical asset
    sap_api:
      odata_service: API_EQUIPMENT_SRV
      odata_entity_set: Equipment
      api_hub_url: https://api.sap.com/api/API_EQUIPMENT/overview
    sap_internals:
      legacy_table: EQUI
      transactions: [IE01, IE02, IE03]
    fields:
      - name: equipment_id
        type: string
        primary_key: true
        example: "EQ-5001"
      - name: description
        type: string
      - name: func_loc_id
        type: string
        foreign_key: functional_location.func_loc_id
      - name: criticality
        type: string
        enum: [A, B, C]
        description: "A=Critical, B=Important, C=Standard"
      - name: manufacturer
        type: string
      - name: install_date
        type: date

  work_center:
    description: A resource group for performing maintenance
    sap_api:
      odata_service: API_WORKCENTER_SRV
      odata_entity_set: WorkCenter
      api_hub_url: https://api.sap.com/api/API_WORKCENTER/overview
    sap_internals:
      legacy_table: CRHD
      transactions: [CR01, CR02, CR03]
    fields:
      - name: work_center_id
        type: string
        primary_key: true
        example: "WC-MECH-01"
      - name: description
        type: string
      - name: plant
        type: string
      - name: capacity_hours_per_day
        type: float
        example: 8.0

  operation:
    description: A single task within a work order
    sap_api:
      odata_service: API_MAINTORDER_SRV
      odata_entity_set: MaintenanceOrderOperation
      api_hub_url: https://api.sap.com/api/API_MAINTORDER/overview
    sap_internals:
      legacy_table: AFVC
      transactions: [IW32]
    fields:
      - name: operation_id
        type: string
        primary_key: true
      - name: work_order_id
        type: string
        foreign_key: work_order.order_id
      - name: sequence
        type: integer
      - name: description
        type: string
      - name: duration_hours
        type: float
      - name: work_center_id
        type: string
        foreign_key: work_center.work_center_id

  maintenance_plan:
    description: A recurring schedule definition
    sap_api:
      odata_service: API_MAINTENANCEPLAN_SRV
      odata_entity_set: MaintenancePlan
      api_hub_url: https://api.sap.com/api/API_MAINTENANCEPLAN/overview
    sap_internals:
      legacy_table: MPOS
      transactions: [IP01, IP02, IP10]
    fields:
      - name: plan_id
        type: string
        primary_key: true
      - name: description
        type: string
      - name: cycle_days
        type: integer
      - name: strategy
        type: string
      - name: call_horizon_pct
        type: integer
        description: "Percentage of cycle for early call"
      - name: equipment_id
        type: string
        foreign_key: equipment.equipment_id
